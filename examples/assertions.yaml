# Example netsert assertions
# 
# Prerequisites:
#   1. Copy netsert.yaml to project root: cp examples/netsert.yaml .
#   2. Deploy lab: cd examples/lab && sudo containerlab deploy -t topology.yaml
#
# Run with: netsert run examples/assertions.yaml

targets:
  # Spine switch
  - address: clab-netsert-spine1:6030
    assertions:
      - name: Spine1 Ethernet1 is UP
        path: /interfaces/interface[name=Ethernet1]/state/oper-status
        equals: "UP"

      - name: Spine1 Ethernet2 is UP
        path: /interfaces/interface[name=Ethernet2]/state/oper-status
        equals: "UP"

      - name: Spine1 hostname is correct
        path: /system/config/hostname
        equals: "spine1"

  # Leaf switch
  - address: clab-netsert-leaf1:6030
    assertions:
      - name: Leaf1 uplink is UP
        path: /interfaces/interface[name=Ethernet1]/state/oper-status
        equals: "UP"

      - name: Leaf1 hostname is correct
        path: /system/config/hostname
        equals: "leaf1"
